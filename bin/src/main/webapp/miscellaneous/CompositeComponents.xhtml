<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<ui:composition template="/applayout/pageTemplate.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:cc="http://java.sun.com/jsf/composite/customComponents">

	<ui:define name="content">
		<style>
td {
	padding: 8px;
}
</style>
		<h1>Composite Components<b:badge value="since 1.0.1" /></h1>

		<p>BootsFaces supports Composite Components, too.</p>
		
		<h1>Custom components in a data table</h1>

       
        
        <b:panel title="Live preview" look="info" collapsible="false">
            
             <h:form>
                <cc:redButton caption="I'm red!" action="#{customComponentsBean.onClick}" />
            </h:form>
        
        <h:form>
                <b:dataTable value="#{carPool.carPool}"
                             var="car"
                             onpage="console.log('page');">
                    <b:dataTableColumn value="#{car.brand}" />
                    <b:dataTableColumn value="#{car.type}" />
                    <b:dataTableColumn value="#{car.color}" />
                    <b:dataTableColumn value="#{car.year}"  order="asc" />
                    <b:dataTableColumn value="#{car.price}" />
                    <b:dataTableColumn value="#{car.enginePower}" label="Engine Power (hp)" />
                    <b:dataTableColumn label="Non-AJAX">
                        <cc:blueButton caption="Select this #{car.brand}" action="#{customComponentsBean.onClick}" />
                    </b:dataTableColumn>
                    <b:dataTableColumn label="AJAX">
                        <cc:ajaxButton caption="Delete this #{car.brand}" onclick="ajax:customComponentsBean.onDelete(carPool.carPool, car)" update="@form" />
                    </b:dataTableColumn>
                </b:dataTable>
            </h:form>

            <f:facet name="footer">
                <b:tabView activeIndex="0"  contentStyle="border-right: 1px solid #ddd;border-left: 1px solid #ddd;border-bottom: 1px solid #ddd;padding:10px">
                    <b:tab title="JSF markup">
                        <b:panel>
                            <script type="syntaxhighlighter" class="brush: java; toolbar: false;gutter: false; first-line: 1">
                                <![CDATA[
                                <h:form>
                                    <cc:redButton caption="I'm red!" action="&num;{customComponentsBean.onClick}" />
                                </h:form>


                                <h:form>
                                    <b:dataTable value="&num;{carPool.carPool}"
                                                 var="car"
                                                 onpage="console.log('page');">
                                        <b:dataTableColumn value="&num;{car.brand}" />
                                        <b:dataTableColumn value="&num;{car.type}" />
                                        <b:dataTableColumn value="&num;{car.color}" />
                                        <b:dataTableColumn value="&num;{car.year}"  order="asc" />
                                        <b:dataTableColumn value="&num;{car.price}" />
                                        <b:dataTableColumn value="&num;{car.enginePower}" label="Engine Power (hp)" />
                                        <b:dataTableColumn label="Non-AJAX">
                                            <cc:blueButton caption="Select this #{car.brand}" action="&num;{customComponentsBean.onClick}" />
                                        </b:dataTableColumn>
                                        <b:dataTableColumn label="AJAX">
                                            <cc:ajaxButton caption="Delete this #{car.brand}" onclick="ajax:customComponentsBean.onDelete(carPool.carPool, car)" update="@form" />
                                        </b:dataTableColumn>
                                    </b:dataTable>
                                </h:form>
                                ]]>
                            </script>
                        </b:panel>
                    </b:tab>
                    <b:tab title="Composite (redButton)">
                        <b:panel>
                            <script type="syntaxhighlighter" class="brush: java; toolbar: false;gutter: false; first-line: 1">
                                <![CDATA[
                                <?xml version='1.0' encoding='UTF-8' ?>
                                <!DOCTYPE html>
                                <ui:composition template="/applayout/pageTemplate.xhtml"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:h="http://java.sun.com/jsf/html"
                                    xmlns:f="http://java.sun.com/jsf/core"
                                    xmlns:b="http://bootsfaces.net/ui"
                                    xmlns:ui="http://java.sun.com/jsf/facelets"
                                    xmlns:composite="http://java.sun.com/jsf/composite">

                                    <composite:interface>
                                        <composite:attribute 
                                            name="action"
                                            method-signature="java.lang.String action()" />
                                        <composite:attribute name="caption" />
                                    </composite:interface>

                                    <composite:implementation>

                                        <b:commandButton 
                                            value="&num;{cc.attrs.caption}"
                                            action="&num;{cc.attrs.action}" 
                                            look="danger" />
                                    </composite:implementation>
                                </ui:composition>

                                ]]>
                            </script>
                        </b:panel>
                    </b:tab>
                    <b:tab title="Composite (redButton)">
                        <b:panel>
                            <script type="syntaxhighlighter" class="brush: java; toolbar: false;gutter: false; first-line: 1">
                                <![CDATA[
                                <?xml version='1.0' encoding='UTF-8' ?>
                                <!DOCTYPE html>
                                <ui:composition template="/applayout/pageTemplate.xhtml"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:h="http://java.sun.com/jsf/html"
                                    xmlns:f="http://java.sun.com/jsf/core"
                                    xmlns:b="http://bootsfaces.net/ui"
                                    xmlns:ui="http://java.sun.com/jsf/facelets"
                                    xmlns:composite="http://java.sun.com/jsf/composite">

                                    <composite:interface>
                                        <composite:attribute 
                                            name="action"
                                            method-signature="java.lang.String action()" />
                                        <composite:attribute name="caption" />
                                    </composite:interface>

                                    <composite:implementation>

                                        <b:commandButton 
                                            value="&num;{cc.attrs.caption}"
                                            action="&num;{cc.attrs.action}" 
                                            look="primary" />
                                    </composite:implementation>
                                </ui:composition>

                                ]]>
                            </script>
                        </b:panel>
                    </b:tab><b:tab title="Composite (ajaxButton)">
                        <b:panel>
                            <script type="syntaxhighlighter" class="brush: java; toolbar: false;gutter: false; first-line: 1">
                                <![CDATA[
                                <?xml version='1.0' encoding='UTF-8' ?>
                                <!DOCTYPE html>
                                <ui:composition template="/applayout/pageTemplate.xhtml"
                                    xmlns="http://www.w3.org/1999/xhtml"
                                    xmlns:h="http://java.sun.com/jsf/html"
                                    xmlns:f="http://java.sun.com/jsf/core"
                                    xmlns:b="http://bootsfaces.net/ui"
                                    xmlns:ui="http://java.sun.com/jsf/facelets"
                                    xmlns:composite="http://java.sun.com/jsf/composite">

                                    <composite:interface>
                                        <composite:attribute name="onclick"/>
                                        <composite:attribute name="caption" />
                                        <composite:attribute name="update" />
                                    </composite:interface>

                                    <composite:implementation>
                                        <b:commandButton 
                                            value="&num;{cc.attrs.caption}"
                                            onclick="&num;{cc.attrs.onclick}" 
                                            update="&num;{cc.attrs.update}"
                                            look="danger" />
                                    </composite:implementation>
                                </ui:composition>

                                ]]>
                            </script>
                        </b:panel>
                    </b:tab>
                </b:tabView>
            </f:facet>
        </b:panel>

		<script type="text/javascript">
      		SyntaxHighlighter.all();
    	</script>
	</ui:define>
</ui:composition>
